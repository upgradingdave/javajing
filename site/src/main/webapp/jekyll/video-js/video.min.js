/*!
Video.js - HTML5 Video Player
Version GENERATED_AT_BUILD

LGPL v3 LICENSE INFO
This file is part of Video.js. Copyright 2011 Zencoder, Inc.

Video.js is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Video.js is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with Video.js.  If not, see <http://www.gnu.org/licenses/>.
*/
(((window, undefined) => {
  var document=window.document;document.createElement("video");document.createElement("audio");
  var VideoJS=(id, addOptions, ready) => {var tag;if(typeof id=="string"){if(id.indexOf("#")===0){id=id.slice(1)}if(_V_.players[id]){return _V_.players[id]}else{tag=_V_.el(id)}}else{tag=id}if(!tag||!tag.nodeName){throw new TypeError("The element or ID supplied is not valid. (VideoJS)")}return tag.player||new _V_.Player(tag,addOptions,ready)};
  var _V_=VideoJS;
  var CDN_VERSION="GENERATED_CDN_VSN";
  VideoJS.players={};VideoJS.options={techOrder:["html5","flash"],html5:{},flash:{swf:"http://vjs.zencdn.net/c/video-js.swf"},width:300,height:150,defaultVolume:0,components:{posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};if(CDN_VERSION!="GENERATED_CDN_VSN"){_V_.options.flash.swf="http://vjs.zencdn.net/"+CDN_VERSION+"/video-js.swf"}_V_.merge=(obj1, obj2, safe) => {if(!obj2){obj2={}}for(var attrname in obj2){if(obj2.hasOwnProperty(attrname)&&(!safe||!obj1.hasOwnProperty(attrname))){obj1[attrname]=obj2[attrname]}}return obj1};_V_.extend=function(obj){this.merge(this,obj,true)};_V_.extend({tech:{},controlSets:{},isIE() {return !+"\v1"},isFF() {return !!_V_.ua.match("Firefox")},isIPad() {return navigator.userAgent.match(/iPad/i)!==null},isIPhone() {return navigator.userAgent.match(/iPhone/i)!==null},isIOS() {return VideoJS.isIPhone()||VideoJS.isIPad()},iOSVersion() {var match=navigator.userAgent.match(/OS (\d+)_/i);if(match&&match[1]){return match[1]}},isAndroid() {return navigator.userAgent.match(/Android.*AppleWebKit/i)!==null},androidVersion() {var match=navigator.userAgent.match(/Android (\d+)\./i);if(match&&match[1]){return match[1]}},testVid:document.createElement("video"),ua:navigator.userAgent,support:{},each(arr, fn) {if(!arr||arr.length===0){return}for(var i=0,j=arr.length;i<j;i++){fn.call(this,arr[i],i)}},eachProp(obj, fn) {if(!obj){return}for(var name in obj){if(obj.hasOwnProperty(name)){fn.call(this,name,obj[name])}}},el(id) {return document.getElementById(id)},createElement(tagName, attributes) {
    var el=document.createElement(tagName);
    var attrname;
    for(attrname in attributes){if(attributes.hasOwnProperty(attrname)){if(attrname.indexOf("-")!==-1){el.setAttribute(attrname,attributes[attrname])}else{el[attrname]=attributes[attrname]}}}return el
  },insertFirst(node, parent) {if(parent.firstChild){parent.insertBefore(node,parent.firstChild)}else{parent.appendChild(node)}},addClass(element, classToAdd) {if((" "+element.className+" ").indexOf(" "+classToAdd+" ")==-1){element.className=element.className===""?classToAdd:element.className+" "+classToAdd}},removeClass(element, classToRemove) {if(element.className.indexOf(classToRemove)==-1){return}var classNames=element.className.split(" ");classNames.splice(classNames.indexOf(classToRemove),1);element.className=classNames.join(" ")},blockTextSelection() {document.body.focus();document.onselectstart=() => false},unblockTextSelection() {document.onselectstart=() => true},formatTime(seconds, guide) {
    guide=guide||seconds;
    var s=Math.floor(seconds%60);
    var m=Math.floor(seconds/60%60);
    var h=Math.floor(seconds/3600);
    var gm=Math.floor(guide/60%60);
    var gh=Math.floor(guide/3600);
    h=(h>0||gh>0)?h+":":"";m=(((h||gm>=10)&&m<10)?"0"+m:m)+":";s=(s<10)?"0"+s:s;return h+m+s
  },uc(string) {return string.charAt(0).toUpperCase()+string.slice(1)},getRelativePosition(x, relativeElement) {return Math.max(0,Math.min(1,(x-_V_.findPosX(relativeElement))/relativeElement.offsetWidth))},getComputedStyleValue(element, style) {return window.getComputedStyle(element,null).getPropertyValue(style)},trim(string) {return string.toString().replace(/^\s+/,"").replace(/\s+$/,"")},round(num, dec) {if(!dec){dec=0}return Math.round(num*(10 ** dec))/(10 ** dec);},isEmpty(object) {for(var prop in object){return false}return true},createTimeRange(start, end) {return {length:1,start() {return start},end() {return end}};},cache:{},guid:1,expando:"vdata"+(new Date).getTime(),getData(elem) {var id=elem[_V_.expando];if(!id){id=elem[_V_.expando]=_V_.guid++;_V_.cache[id]={}}return _V_.cache[id]},removeData(elem) {var id=elem[_V_.expando];if(!id){return}delete _V_.cache[id];try{delete elem[_V_.expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(_V_.expando)}else{elem[_V_.expando]=null}}},proxy(context, fn, uid) {if(!fn.guid){fn.guid=_V_.guid++}var ret=function(...args) {return fn.apply(context,args);};ret.guid=(uid)?uid+"_"+fn.guid:fn.guid;return ret},get(url, onSuccess, onError) {var local=(url.indexOf("file:")==0||(window.location.href.indexOf("file:")==0&&url.indexOf("http:")==-1));if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=() => {try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(f){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(g){}throw new Error("This browser does not support XMLHttpRequest.")}}var request=new XMLHttpRequest();try{request.open("GET",url)}catch(e){_V_.log("VideoJS XMLHttpRequest (open)",e);return false}request.onreadystatechange=_V_.proxy(this,() => {if(request.readyState==4){if(request.status==200||local&&request.status==0){onSuccess(request.responseText)}else{if(onError){onError()}}}});try{request.send()}catch(e){_V_.log("VideoJS XMLHttpRequest (send)",e);if(onError){onError(e)}}},setLocalStorage(key, value) {var localStorage=window.localStorage||false;if(!localStorage){return}try{localStorage[key]=value}catch(e){if(e.code==22||e.code==1014){_V_.log("LocalStorage Full (VideoJS)",e)}else{_V_.log("LocalStorage Error (VideoJS)",e)}}},getAbsoluteURL(url) {if(!url.match(/^https?:\/\//)){url=_V_.createElement("div",{innerHTML:'<a href="'+url+'">x</a>'}).firstChild.href}return url}});_V_.log=function(...args) {_V_.log.history=_V_.log.history||[];_V_.log.history.push(args);if(window.console){args.callee=args.callee.caller;var newarr=[].slice.call(args);(typeof console.log==="object"?_V_.log.apply.call(console.log,console,newarr):console.log(...newarr))}};((b => {function c(){}for(var d="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),a;a=d.pop();){b[a]=b[a]||c}}))(((() => {try{console.log();return window.console}catch(err){return window.console={}}}))());if("getBoundingClientRect" in document.documentElement){_V_.findPosX=el => {
    var box;try{box=el.getBoundingClientRect()}catch(e){}if(!box){return 0}
    var docEl=document.documentElement;
    var body=document.body;
    var clientLeft=docEl.clientLeft||body.clientLeft||0;
    var scrollLeft=window.pageXOffset||body.scrollLeft;
    var left=box.left+scrollLeft-clientLeft;
    return left
  }}else{_V_.findPosX=el => {var curleft=el.offsetLeft;while(el=obj.offsetParent){if(el.className.indexOf("video-js")==-1){}else{}curleft+=el.offsetLeft}return curleft}}var JSON;if(!JSON){JSON={}}((() => {var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(typeof JSON.parse!=="function"){JSON.parse=(text, reviver) => {var j;function walk(holder,key){
    var k;
    var v;
    var value=holder[key];
    if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)
  }text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,a => "\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4))}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})());_V_.extend({on(elem, type, fn) {
    var data=_V_.getData(elem);
    var handlers;
    if(data&&!data.handler){data.handler=event => {event=_V_.fixEvent(event);var handlers=_V_.getData(elem).events[event.type];if(handlers){var handlersCopy=[];_V_.each(handlers,(handler, i) => {handlersCopy[i]=handler});for(var i=0,l=handlersCopy.length;i<l;i++){handlersCopy[i].call(elem,event)}}}}if(!data.events){data.events={}}handlers=data.events[type];if(!handlers){handlers=data.events[type]=[];if(document.addEventListener){elem.addEventListener(type,data.handler,false)}else{if(document.attachEvent){elem.attachEvent("on"+type,data.handler)}}}if(!fn.guid){fn.guid=_V_.guid++}handlers.push(fn)
  },addEvent(...args) {return _V_.on.apply(this,args);},off(elem, type, fn) {
    var data=_V_.getData(elem);
    var handlers;
    if(!data.events){return}if(!type){for(type in data.events){_V_.cleanUpEvents(elem,type)}return}handlers=data.events[type];if(!handlers){return}if(fn&&fn.guid){for(var i=0;i<handlers.length;i++){if(handlers[i].guid===fn.guid){handlers.splice(i--,1)}}}_V_.cleanUpEvents(elem,type)
  },removeEvent(...args) {return _V_.off.apply(this,args);},cleanUpEvents(elem, type) {var data=_V_.getData(elem);if(data.events[type].length===0){delete data.events[type];if(document.removeEventListener){elem.removeEventListener(type,data.handler,false)}else{if(document.detachEvent){elem.detachEvent("on"+type,data.handler)}}}if(_V_.isEmpty(data.events)){delete data.events;delete data.handler}if(_V_.isEmpty(data)){_V_.removeData(elem)}},fixEvent(event) {if(event[_V_.expando]){return event}var originalEvent=event;event=new _V_.Event(originalEvent);for(var i=_V_.Event.props.length,prop;i;){prop=_V_.Event.props[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){
    var eventDocument=event.target.ownerDocument||document;
    var doc=eventDocument.documentElement;
    var body=eventDocument.body;
    event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)
  }if(event.which==null&&(event.charCode!=null||event.keyCode!=null)){event.which=event.charCode!=null?event.charCode:event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button!==undefined){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},trigger(elem, event) {
    var data=_V_.getData(elem);
    var parent=elem.parentNode||elem.ownerDocument;
    var type=event.type||event;
    var handler;
    if(data){handler=data.handler}event=typeof event==="object"?event[_V_.expando]?event:new _V_.Event(type,event):new _V_.Event(type);event.type=type;if(handler){handler.call(elem,event)}event.result=undefined;event.target=elem
  },triggerEvent(...args) {return _V_.trigger.apply(this,args);},one(elem, type, fn) {_V_.on(elem,type,function(...args) {_V_.off(elem,type,args.callee);fn.apply(this,args)})}});_V_.Event=function(src,props){if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse}else{this.type=src}if(props){_V_.merge(this,props)}this.timeStamp=(new Date).getTime();this[_V_.expando]=true};_V_.Event.prototype={preventDefault() {this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation() {this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation() {this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};_V_.Event.props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");function returnTrue(){return true}function returnFalse(){return false}((() => {
    var initializing=false;
    var fnTest=/xyz/.test(() => {xyz})?/\b_super\b/:/.*/;
    _V_.Class=() => {};_V_.Class.extend=function(prop){var _super=this.prototype;initializing=true;var prototype=new this();initializing=false;for(var name in prop){prototype[name]=typeof prop[name]=="function"&&typeof _super[name]=="function"&&fnTest.test(prop[name])?(((name, fn) => function(...args) {var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,args);this._super=tmp;return ret}))(name,prop[name]):prop[name]}function Class(...args) {if(!initializing&&this.init){return this.init(...args);}else{if(!initializing){return args.callee.prototype.init();}}}Class.prototype=prototype;Class.constructor=Class;Class.extend=arguments.callee;return Class}
  }))();_V_.Component=_V_.Class.extend({init(player, options) {this.player=player;options=this.options=_V_.merge(this.options||{},options);if(options.el){this.el=options.el}else{this.el=this.createElement()}this.initComponents()},destroy() {},createElement(type, attrs) {return _V_.createElement(type||"div",attrs)},buildCSSClass() {return""},initComponents() {var options=this.options;if(options&&options.components){this.eachProp(options.components,function(name,opts){var tempAdd=this.proxy(function(){this[name]=this.addComponent(name,opts)});if(opts.loadEvent){this.one(opts.loadEvent,tempAdd)}else{tempAdd()}})}},addComponent(name, options) {
    var component;
    var componentClass;
    if(typeof name=="string"){options=options||{};componentClass=options.componentClass||_V_.uc(name);component=new _V_[componentClass](this.player||this,options)}else{component=name}this.el.appendChild(component.el);return component
  },removeComponent(component) {this.el.removeChild(component.el)},show() {this.el.style.display="block"},hide() {this.el.style.display="none"},fadeIn() {this.removeClass("vjs-fade-out");this.addClass("vjs-fade-in")},fadeOut() {this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out")},lockShowing() {var style=this.el.style;style.display="block";style.opacity=1;style.visiblity="visible"},unlockShowing() {var style=this.el.style;style.display="";style.opacity="";style.visiblity=""},addClass(classToAdd) {_V_.addClass(this.el,classToAdd)},removeClass(classToRemove) {_V_.removeClass(this.el,classToRemove)},on(type, fn, uid) {_V_.on(this.el,type,_V_.proxy(this,fn));return this},addEvent(...args) {return this.on(...args);},off(type, fn) {_V_.off(this.el,type,fn);return this},removeEvent(...args) {return this.off(...args);},trigger(type, e) {_V_.trigger(this.el,type,e);return this},triggerEvent(...args) {return this.trigger(...args);},one(type, fn) {_V_.one(this.el,type,_V_.proxy(this,fn));return this},ready(fn) {if(!fn){return this}if(this.isReady){fn.call(this)}else{if(this.readyQueue===undefined){this.readyQueue=[]}this.readyQueue.push(fn)}return this},triggerReady() {this.isReady=true;if(this.readyQueue&&this.readyQueue.length>0){this.each(this.readyQueue,function(fn){fn.call(this)});this.readyQueue=[];this.trigger("ready")}},each(arr, fn) {_V_.each.call(this,arr,fn)},eachProp(obj, fn) {_V_.eachProp.call(this,obj,fn)},extend(obj) {_V_.merge(this,obj)},proxy(fn, uid) {return _V_.proxy(this,fn,uid)}});_V_.Player=_V_.Component.extend({init(tag, addOptions, ready) {
    this.tag=tag;
    var el=this.el=_V_.createElement("div");
    var options=this.options={};
    _V_.merge(options,_V_.options);_V_.merge(options,this.getVideoTagSettings());_V_.merge(options,addOptions);this.ready(ready);tag.removeAttribute("controls");tag.removeAttribute("poster");tag.player=el.player=this;tag.id=tag.id||"vjs_video_"+_V_.guid++;this.id=el.id=tag.id;el.className=tag.className;_V_.players[el.id]=this;this.width(options.width,true);this.height(options.height,true);tag.id+="_html5_api";tag.className="vjs-tech";tag.removeAttribute("width");tag.removeAttribute("height");tag.parentNode.insertBefore(el,tag);el.appendChild(tag);if(tag.hasChildNodes()){var nrOfChildNodes=tag.childNodes.length;for(var i=0,j=tag.childNodes;i<nrOfChildNodes;i++){if(j[0].nodeName.toLowerCase()=="source"||j[0].nodeName.toLowerCase()=="track"){tag.removeChild(j[0])}}}this.values={};this.addClass("vjs-paused");this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);if(options.controls){this.ready(function(){this.initComponents()})}this.textTracks=[];if(options.tracks&&options.tracks.length>0){this.addTextTracks(options.tracks)}if(!options.sources||options.sources.length==0){for(var i=0,j=options.techOrder;i<j.length;i++){
      var techName=j[i];
      var tech=_V_[techName];
      if(tech.isSupported()){this.loadTech(techName);break}
    }}else{this.src(options.sources)}
  },destroy() {this.stopTrackingProgress();this.stopTrackingCurrentTime();_V_.players[this.id]=null;delete _V_.players[this.id];this.tech.destroy();this.el.parentNode.removeChild(this.el)},createElement(type, options) {},getVideoTagSettings() {
    var options={sources:[],tracks:[]};
    var tag=this.tag;
    var getAttribute="getAttribute";
    options.src=tag[getAttribute]("src");options.controls=tag[getAttribute]("controls")!==null;options.poster=tag[getAttribute]("poster");options.preload=tag[getAttribute]("preload");options.autoplay=tag[getAttribute]("autoplay")!==null;options.loop=tag[getAttribute]("loop")!==null;options.muted=tag[getAttribute]("muted")!==null;options.width=tag[getAttribute]("width");options.height=tag[getAttribute]("height");if(this.tag.hasChildNodes()){for(var c,i=0,j=this.tag.childNodes;i<j.length;i++){c=j[i];if(c.nodeName.toLowerCase()=="source"){options.sources.push({src:c[getAttribute]("src"),type:c[getAttribute]("type"),media:c[getAttribute]("media"),title:c[getAttribute]("title")})}if(c.nodeName.toLowerCase()=="track"){options.tracks.push({src:c[getAttribute]("src"),kind:c[getAttribute]("kind"),srclang:c[getAttribute]("srclang"),label:c[getAttribute]("label"),"default":c[getAttribute]("default")!==null,title:c[getAttribute]("title")})}}}return options
  },loadTech(techName, source) {if(this.tech){this.unloadTech()}else{if(techName!="html5"&&this.tag){this.el.removeChild(this.tag);this.tag=false}}this.techName=techName;this.isReady=false;var techReady=function(){this.player.triggerReady();if(!this.support.progressEvent){this.player.manualProgressOn()}if(!this.support.timeupdateEvent){this.player.manualTimeUpdatesOn()}};var techOptions=_V_.merge({source,parentEl:this.el},this.options[techName]);if(source){if(source.src==this.values.src&&this.values.currentTime>0){techOptions.startTime=this.values.currentTime}this.values.src=source.src}this.tech=new _V_[techName](this,techOptions);this.tech.ready(techReady)},unloadTech() {this.tech.destroy();if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}this.tech=false},manualProgressOn() {this.manualProgress=true;this.trackProgress();this.tech.on("progress",function(...args) {this.removeEvent("progress",args.callee);this.support.progressEvent=true;this.player.manualProgressOff()})},manualProgressOff() {this.manualProgress=false;this.stopTrackingProgress()},trackProgress() {this.progressInterval=setInterval(_V_.proxy(this,function(){if(this.values.bufferEnd<this.buffered().end(0)){this.trigger("progress")}else{if(this.bufferedPercent()==1){this.stopTrackingProgress();this.trigger("progress")}}}),500)},stopTrackingProgress() {clearInterval(this.progressInterval)},manualTimeUpdatesOn() {this.manualTimeUpdates=true;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.on("timeupdate",function(...args) {this.removeEvent("timeupdate",args.callee);this.support.timeupdateEvent=true;this.player.manualTimeUpdatesOff()})},manualTimeUpdatesOff() {this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.removeEvent("play",this.trackCurrentTime);this.removeEvent("pause",this.stopTrackingCurrentTime)},trackCurrentTime() {if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=setInterval(_V_.proxy(this,function(){this.trigger("timeupdate")}),250)},stopTrackingCurrentTime() {clearInterval(this.currentTimeInterval)},onEnded() {if(this.options.loop){this.currentTime(0);this.play()}else{this.pause()}},onPlay() {_V_.removeClass(this.el,"vjs-paused");_V_.addClass(this.el,"vjs-playing")},onPause() {_V_.removeClass(this.el,"vjs-playing");_V_.addClass(this.el,"vjs-paused")},onProgress() {if(this.bufferedPercent()==1){this.trigger("loadedalldata")}},onDurationChange() {this.duration(this.techGet("duration"))},onError(e) {_V_.log("Video Error",e)},techCall(method, arg) {if(!this.tech.isReady){this.tech.ready(function(){this[method](arg)})}else{try{this.tech[method](arg)}catch(e){_V_.log(e)}}},techGet(method) {if(this.tech.isReady){try{return this.tech[method]()}catch(e){if(this.tech[method]===undefined){_V_.log("Video.js: "+method+" method not defined for "+this.techName+" playback technology.",e)}else{if(e.name=="TypeError"){_V_.log("Video.js: "+method+" unavailable on "+this.techName+" playback technology element.",e);this.tech.isReady=false}else{_V_.log(e)}}}}return},play() {this.techCall("play");return this},pause() {this.techCall("pause");return this},paused() {return(this.techGet("paused")===false)?false:true},currentTime(seconds) {if(seconds!==undefined){this.values.lastSetCurrentTime=seconds;this.techCall("setCurrentTime",seconds);if(this.manualTimeUpdates){this.trigger("timeupdate")}return this}return this.values.currentTime=(this.techGet("currentTime")||0)},duration(seconds) {if(seconds!==undefined){this.values.duration=parseFloat(seconds);return this}return this.values.duration},remainingTime() {return this.duration()-this.currentTime()},buffered() {
    var buffered=this.techGet("buffered");
    var start=0;
    var end=this.values.bufferEnd=this.values.bufferEnd||0;
    var timeRange;
    if(buffered&&buffered.length>0&&buffered.end(0)!==end){end=buffered.end(0);this.values.bufferEnd=end}return _V_.createTimeRange(start,end)
  },bufferedPercent() {return(this.duration())?this.buffered().end(0)/this.duration():0},volume(percentAsDecimal) {var vol;if(percentAsDecimal!==undefined){vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal)));this.values.volume=vol;this.techCall("setVolume",vol);_V_.setLocalStorage("volume",vol);return this}vol=parseFloat(this.techGet("volume"));return(isNaN(vol))?1:vol},muted(muted) {if(muted!==undefined){this.techCall("setMuted",muted);return this}return this.techGet("muted")||false},width(num, skipListeners) {return this.dimension("width",num,skipListeners)},height(num, skipListeners) {return this.dimension("height",num,skipListeners)},size(width, height) {return this.width(width,true).height(height)},dimension(widthOrHeight, num, skipListeners) {if(num!==undefined){this.el[widthOrHeight]=num;if((""+num).indexOf("%")!==-1){this.el.style[widthOrHeight]=num}else{this.el.style[widthOrHeight]=num+"px"}if(!skipListeners){this.trigger("resize")}return this}return parseInt(this.el.getAttribute(widthOrHeight))},supportsFullScreen() {return this.techGet("supportsFullScreen")||false},requestFullScreen() {var requestFullScreen=_V_.support.requestFullScreen;this.isFullScreen=true;if(requestFullScreen){_V_.on(document,requestFullScreen.eventName,this.proxy(function(...args) {this.isFullScreen=document[requestFullScreen.isFullScreen];if(this.isFullScreen==false){_V_.removeEvent(document,requestFullScreen.eventName,args.callee)}this.trigger("fullscreenchange")}));if(this.tech.support.fullscreenResize===false&&this.options.flash.iFrameMode!=true){this.pause();this.unloadTech();_V_.on(document,requestFullScreen.eventName,this.proxy(function(...args) {_V_.removeEvent(document,requestFullScreen.eventName,args.callee);this.loadTech(this.techName,{src:this.values.src})}));this.el[requestFullScreen.requestFn]()}else{this.el[requestFullScreen.requestFn]()}}else{if(this.tech.supportsFullScreen()){this.trigger("fullscreenchange");this.techCall("enterFullScreen")}else{this.trigger("fullscreenchange");this.enterFullWindow()}}return this},cancelFullScreen() {var requestFullScreen=_V_.support.requestFullScreen;this.isFullScreen=false;if(requestFullScreen){if(this.tech.support.fullscreenResize===false&&this.options.flash.iFrameMode!=true){this.pause();this.unloadTech();_V_.on(document,requestFullScreen.eventName,this.proxy(function(...args) {_V_.removeEvent(document,requestFullScreen.eventName,args.callee);this.loadTech(this.techName,{src:this.values.src})}));document[requestFullScreen.cancelFn]()}else{document[requestFullScreen.cancelFn]()}}else{if(this.tech.supportsFullScreen()){this.techCall("exitFullScreen");this.trigger("fullscreenchange")}else{this.exitFullWindow();this.trigger("fullscreenchange")}}return this},enterFullWindow() {this.isFullWindow=true;this.docOrigOverflow=document.documentElement.style.overflow;_V_.on(document,"keydown",_V_.proxy(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";_V_.addClass(document.body,"vjs-full-window");_V_.addClass(this.el,"vjs-fullscreen");this.trigger("enterFullWindow")},fullWindowOnEscKey(event) {if(event.keyCode==27){if(this.isFullScreen==true){this.cancelFullScreen()}else{this.exitFullWindow()}}},exitFullWindow() {this.isFullWindow=false;_V_.removeEvent(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;_V_.removeClass(document.body,"vjs-full-window");_V_.removeClass(this.el,"vjs-fullscreen");this.trigger("exitFullWindow")},selectSource(sources) {for(var i=0,j=this.options.techOrder;i<j.length;i++){
    var techName=j[i];
    var tech=_V_[techName];
    if(tech.isSupported()){for(var a=0,b=sources;a<b.length;a++){var source=b[a];if(tech.canPlaySource.call(this,source)){return {source,tech:techName};}}}
  }return false},src(source) {if(source instanceof Array){
    var sourceTech=this.selectSource(source);
    var source;
    var techName;
    if(sourceTech){source=sourceTech.source;techName=sourceTech.tech;if(techName==this.techName){this.src(source)}else{this.loadTech(techName,source)}}else{_V_.log("No compatible source and playback technology were found.")}
  }else{if(source instanceof Object){if(_V_[this.techName].canPlaySource(source)){this.src(source.src)}else{this.src([source])}}else{this.values.src=source;if(!this.isReady){this.ready(function(){this.src(source)})}else{this.techCall("src",source);if(this.options.preload=="auto"){this.load()}if(this.options.autoplay){this.play()}}}}return this},load() {this.techCall("load");return this},currentSrc() {return this.techGet("currentSrc")||this.values.src||""},preload(value) {if(value!==undefined){this.techCall("setPreload",value);this.options.preload=value;return this}return this.techGet("preload")},autoplay(value) {if(value!==undefined){this.techCall("setAutoplay",value);this.options.autoplay=value;return this}return this.techGet("autoplay",value)},loop(value) {if(value!==undefined){this.techCall("setLoop",value);this.options.loop=value;return this}return this.techGet("loop")},controls() {return this.options.controls},poster() {return this.techGet("poster")},error() {return this.techGet("error")},ended() {return this.techGet("ended")}});((() => {
    var requestFn;
    var cancelFn;
    var eventName;
    var isFullScreen;
    var playerProto=_V_.Player.prototype;
    if(document.cancelFullscreen!==undefined){requestFn="requestFullscreen";cancelFn="exitFullscreen";eventName="fullscreenchange";isFullScreen="fullScreen"}else{_V_.each(["moz","webkit"],prefix => {if((prefix!="moz"||document.mozFullScreenEnabled)&&document[prefix+"CancelFullScreen"]!==undefined){requestFn=prefix+"RequestFullScreen";cancelFn=prefix+"CancelFullScreen";eventName=prefix+"fullscreenchange";if(prefix=="webkit"){isFullScreen=prefix+"IsFullScreen"}else{isFullScreen=prefix+"FullScreen"}}})}if(requestFn){_V_.support.requestFullScreen={requestFn,cancelFn,eventName,isFullScreen}}
  }))();_V_.PlaybackTech=_V_.Component.extend({init(player, options) {},onClick() {if(this.player.options.controls){_V_.PlayToggle.prototype.onClick.call(this)}}});_V_.apiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");_V_.each(_V_.apiMethods,methodName => {_V_.PlaybackTech.prototype[methodName]=() => {throw new Error("The '"+methodName+"' method is not available on the playback technology's API")}});_V_.html5=_V_.PlaybackTech.extend({init(player, options, ready) {this.player=player;this.el=this.createElement();this.ready(ready);this.addEvent("click",this.proxy(this.onClick));var source=options.source;if(source&&this.el.currentSrc==source.src){player.triggerEvent("loadstart")}else{if(source){this.el.src=source.src}}player.ready(function(){if(this.options.autoplay&&this.paused()){this.tag.poster=null;this.play()}});this.setupTriggers();this.triggerReady()},destroy() {this.player.tag=false;this.removeTriggers();this.el.parentNode.removeChild(this.el)},createElement() {
    var html5=_V_.html5;
    var player=this.player;
    var el=player.tag;
    var newEl;
    if(!el||this.support.movingElementInDOM===false){if(el){player.el.removeChild(el)}newEl=_V_.createElement("video",{id:el.id||player.el.id+"_html5_api",className:el.className||"vjs-tech"});el=newEl;_V_.insertFirst(el,player.el)}_V_.each(["autoplay","preload","loop","muted"],attr => {if(player.options[attr]!==null){el[attr]=player.options[attr]}},this);return el
  },setupTriggers() {_V_.each.call(this,_V_.html5.events,function(type){_V_.addEvent(this.el,type,_V_.proxy(this.player,this.eventHandler))})},removeTriggers() {_V_.each.call(this,_V_.html5.events,function(type){_V_.removeEvent(this.el,type,_V_.proxy(this.player,this.eventHandler))})},eventHandler(e) {e.stopPropagation();this.triggerEvent(e)},play() {this.el.play()},pause() {this.el.pause()},paused() {return this.el.paused},currentTime() {return this.el.currentTime},setCurrentTime(seconds) {try{this.el.currentTime=seconds}catch(e){_V_.log(e,"Video isn't ready. (VideoJS)")}},duration() {return this.el.duration||0},buffered() {return this.el.buffered},volume() {return this.el.volume},setVolume(percentAsDecimal) {this.el.volume=percentAsDecimal},muted() {return this.el.muted},setMuted(muted) {this.el.muted=muted},width() {return this.el.offsetWidth},height() {return this.el.offsetHeight},supportsFullScreen() {if(typeof this.el.webkitEnterFullScreen=="function"){if(!navigator.userAgent.match("Chrome")&&!navigator.userAgent.match("Mac OS X 10.5")){return true}}return false},enterFullScreen() {try{this.el.webkitEnterFullScreen()}catch(e){if(e.code==11){_V_.log("VideoJS: Video not ready.")}}},exitFullScreen() {try{this.el.webkitExitFullScreen()}catch(e){if(e.code==11){_V_.log("VideoJS: Video not ready.")}}},src(src) {this.el.src=src},load() {this.el.load()},currentSrc() {return this.el.currentSrc},preload() {return this.el.preload},setPreload(val) {this.el.preload=val},autoplay() {return this.el.autoplay},setAutoplay(val) {this.el.autoplay=val},loop() {return this.el.loop},setLoop(val) {this.el.loop=val},error() {return this.el.error},seeking() {return this.el.seeking},ended() {return this.el.ended},controls() {return this.player.options.controls},defaultMuted() {return this.el.defaultMuted}});_V_.html5.isSupported=() => !!document.createElement("video").canPlayType;_V_.html5.canPlaySource=srcObj => !!document.createElement("video").canPlayType(srcObj.type);_V_.html5.events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(",");_V_.html5.prototype.support={fullscreen:(typeof _V_.testVid.webkitEnterFullScreen!==undefined)?(!_V_.ua.match("Chrome")&&!_V_.ua.match("Mac OS X 10.5")?true:false):false,movingElementInDOM:!_V_.isIOS()};if(_V_.isAndroid()){if(_V_.androidVersion()<3){document.createElement("video").constructor.prototype.canPlayType=type => (type&&type.toLowerCase().indexOf("video/mp4")!=-1)?"maybe":""}}_V_.flash=_V_.PlaybackTech.extend({init(player, options) {
    this.player=player;
    var source=options.source;
    var parentEl=options.parentEl;
    var placeHolder=this.el=_V_.createElement("div",{id:parentEl.id+"_temp_flash"});
    var objId=player.el.id+"_flash_api";
    var playerOptions=player.options;
    var flashVars=_V_.merge({readyFunction:"_V_.flash.onReady",eventProxyFunction:"_V_.flash.onEvent",errorEventProxyFunction:"_V_.flash.onError",autoplay:playerOptions.autoplay,preload:playerOptions.preload,loop:playerOptions.loop,muted:playerOptions.muted},options.flashVars);
    var params=_V_.merge({wmode:"opaque",bgcolor:"#000000"},options.params);
    var attributes=_V_.merge({id:objId,name:objId,"class":"vjs-tech"},options.attributes);
    if(source){flashVars.src=encodeURIComponent(_V_.getAbsoluteURL(source.src))}_V_.insertFirst(placeHolder,parentEl);if(options.startTime){this.ready(function(){this.load();this.play();this.currentTime(options.startTime)})}if(options.iFrameMode==true&&!_V_.isFF){var iFrm=_V_.createElement("iframe",{id:objId+"_iframe",name:objId+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});flashVars.readyFunction="ready";flashVars.eventProxyFunction="events";flashVars.errorEventProxyFunction="errors";_V_.addEvent(iFrm,"load",_V_.proxy(this,function(){
      var iDoc;
      var objTag;
      var swfLoc;
      var iWin=iFrm.contentWindow;
      var varString="";
      iDoc=iFrm.contentDocument?iFrm.contentDocument:iFrm.contentWindow.document;iDoc.write(_V_.flash.getEmbedCode(options.swf,flashVars,params,attributes));iWin.player=this.player;iWin.ready=_V_.proxy(this.player,function(currSwf){
        var el=iDoc.getElementById(currSwf);
        var player=this;
        var tech=player.tech;
        tech.el=el;_V_.addEvent(el,"click",tech.proxy(tech.onClick));_V_.flash.checkReady(tech)
      });iWin.events=_V_.proxy(this.player,function(swfID,eventName,other){var player=this;if(player&&player.techName=="flash"){player.triggerEvent(eventName)}});iWin.errors=_V_.proxy(this.player,(swfID, eventName) => {_V_.log("Flash Error",eventName)})
    }));placeHolder.parentNode.replaceChild(iFrm,placeHolder)}else{_V_.flash.embed(options.swf,placeHolder,flashVars,params,attributes)}
  },destroy() {this.el.parentNode.removeChild(this.el)},play() {this.el.vjs_play()},pause() {this.el.vjs_pause()},src(src) {src=_V_.getAbsoluteURL(src);this.el.vjs_src(src);if(this.player.autoplay()){var tech=this;setTimeout(() => {tech.play()},0)}},load() {this.el.vjs_load()},poster() {this.el.vjs_getProperty("poster")},buffered() {return _V_.createTimeRange(0,this.el.vjs_getProperty("buffered"))},supportsFullScreen() {return false},enterFullScreen() {return false}});((() => {
    var api=_V_.flash.prototype;
    var readWrite="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(",");
    var readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");
    var callOnly="load,play,pause".split(",");
    createSetter=attr => {var attrUpper=attr.charAt(0).toUpperCase()+attr.slice(1);api["set"+attrUpper]=function(val){return this.el.vjs_setProperty(attr,val)}},createGetter=attr => {api[attr]=function(){return this.el.vjs_getProperty(attr)}};_V_.each(readWrite,attr => {createGetter(attr);createSetter(attr)});_V_.each(readOnly,attr => {createGetter(attr)})
  }))();_V_.flash.isSupported=() => _V_.flash.version()[0]>=10;_V_.flash.canPlaySource=srcObj => {if(srcObj.type in _V_.flash.prototype.support.formats){return"maybe"}};_V_.flash.prototype.support={formats:{"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},progressEvent:false,timeupdateEvent:false,fullscreenResize:false,parentResize:!(_V_.ua.match("Firefox"))};_V_.flash.onReady=currSwf => {
    var el=_V_.el(currSwf);
    var player=el.player||el.parentNode.player;
    var tech=player.tech;
    el.player=player;tech.el=el;tech.addEvent("click",tech.onClick);_V_.flash.checkReady(tech)
  };_V_.flash.checkReady=tech => {if(tech.el.vjs_getProperty){tech.triggerReady()}else{setTimeout(() => {_V_.flash.checkReady(tech)},50)}};_V_.flash.onEvent=(swfID, eventName) => {var player=_V_.el(swfID).player;player.triggerEvent(eventName)};_V_.flash.onError=(swfID, err) => {var player=_V_.el(swfID).player;player.triggerEvent("error");_V_.log("Flash Error",err,swfID)};_V_.flash.version=() => {var version="0,0,0";try{version=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){version=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(e){}}return version.split(",")};_V_.flash.embed=(swf, placeHolder, flashVars, params, attributes) => {
    var code=_V_.flash.getEmbedCode(swf,flashVars,params,attributes);
    var obj=_V_.createElement("div",{innerHTML:code}).childNodes[0];
    var par=placeHolder.parentNode;
    placeHolder.parentNode.replaceChild(obj,placeHolder);if(_V_.isIE()){var newObj=par.childNodes[0];setTimeout(() => {newObj.style.display="block"},1000)}return obj
  };_V_.flash.getEmbedCode=(swf, flashVars, params, attributes) => {
    var objTag='<object type="application/x-shockwave-flash"';
    var flashVarsString="";
    var paramsString="";
    attrsString="";if(flashVars){_V_.eachProp(flashVars,(key, val) => {flashVarsString+=(key+"="+val+"&amp;")})}params=_V_.merge({movie:swf,flashvars:flashVarsString,allowScriptAccess:"always",allowNetworking:"all"},params);_V_.eachProp(params,(key, val) => {paramsString+='<param name="'+key+'" value="'+val+'" />'});attributes=_V_.merge({data:swf,width:"100%",height:"100%"},attributes);_V_.eachProp(attributes,(key, val) => {attrsString+=(key+'="'+val+'" ')});return objTag+attrsString+">"+paramsString+"</object>"
  };_V_.Control=_V_.Component.extend({buildCSSClass() {return"vjs-control "+this._super()}});_V_.ControlBar=_V_.Component.extend({options:{loadEvent:"play",components:{playToggle:{},fullscreenToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},volumeControl:{},muteToggle:{}}},init(player, options) {this._super(player,options);player.one("play",this.proxy(function(){this.fadeIn();this.player.on("mouseover",this.proxy(this.fadeIn));this.player.on("mouseout",this.proxy(this.fadeOut))}))},createElement() {return _V_.createElement("div",{className:"vjs-controls"})},fadeIn() {this._super();this.player.trigger("controlsvisible")},fadeOut() {this._super();this.player.trigger("controlshidden")},lockShowing() {this.el.style.opacity="1"}});_V_.Button=_V_.Control.extend({init(player, options) {this._super(player,options);this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)},createElement(type, attrs) {attrs=_V_.merge({className:this.buildCSSClass(),innerHTML:'<div><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button",tabIndex:0},attrs);return this._super(type,attrs)},onClick() {},onFocus() {_V_.on(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress(event) {if(event.which==32||event.which==13){event.preventDefault();this.onClick()}},onBlur() {_V_.off(document,"keyup",_V_.proxy(this,this.onKeyPress))}});_V_.PlayButton=_V_.Button.extend({buttonText:"Play",buildCSSClass() {return"vjs-play-button "+this._super()},onClick() {this.player.play()}});_V_.PauseButton=_V_.Button.extend({buttonText:"Pause",buildCSSClass() {return"vjs-pause-button "+this._super()},onClick() {this.player.pause()}});_V_.PlayToggle=_V_.Button.extend({buttonText:"Play",init(player, options) {this._super(player,options);player.on("play",_V_.proxy(this,this.onPlay));player.on("pause",_V_.proxy(this,this.onPause))},buildCSSClass() {return"vjs-play-control "+this._super()},onClick() {if(this.player.paused()){this.player.play()}else{this.player.pause()}},onPlay() {_V_.removeClass(this.el,"vjs-paused");_V_.addClass(this.el,"vjs-playing")},onPause() {_V_.removeClass(this.el,"vjs-playing");_V_.addClass(this.el,"vjs-paused")}});_V_.FullscreenToggle=_V_.Button.extend({buttonText:"Fullscreen",buildCSSClass() {return"vjs-fullscreen-control "+this._super()},onClick() {if(!this.player.isFullScreen){this.player.requestFullScreen()}else{this.player.cancelFullScreen()}}});_V_.BigPlayButton=_V_.Button.extend({init(player, options) {this._super(player,options);player.on("play",_V_.proxy(this,this.hide));player.on("ended",_V_.proxy(this,this.show))},createElement() {return this._super("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"})},onClick() {if(this.player.currentTime()){this.player.currentTime(0)}this.player.play()}});_V_.LoadingSpinner=_V_.Component.extend({init(player, options) {this._super(player,options);player.on("canplay",_V_.proxy(this,this.hide));player.on("canplaythrough",_V_.proxy(this,this.hide));player.on("playing",_V_.proxy(this,this.hide));player.on("seeking",_V_.proxy(this,this.show));player.on("error",_V_.proxy(this,this.show));player.on("waiting",_V_.proxy(this,this.show))},createElement() {
    var classNameSpinner;
    var innerHtmlSpinner;
    if(typeof this.player.el.style.WebkitBorderRadius=="string"||typeof this.player.el.style.MozBorderRadius=="string"||typeof this.player.el.style.KhtmlBorderRadius=="string"||typeof this.player.el.style.borderRadius=="string"){classNameSpinner="vjs-loading-spinner";innerHtmlSpinner="<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"}else{classNameSpinner="vjs-loading-spinner-fallback";innerHtmlSpinner=""}return this._super("div",{className:classNameSpinner,innerHTML:innerHtmlSpinner})
  }});_V_.CurrentTimeDisplay=_V_.Component.extend({init(player, options) {this._super(player,options);player.on("timeupdate",_V_.proxy(this,this.updateContent))},createElement() {var el=this._super("div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-current-time-display",innerHTML:"0:00"});el.appendChild(_V_.createElement("div").appendChild(this.content));return el},updateContent() {var time=(this.player.scrubbing)?this.player.values.currentTime:this.player.currentTime();this.content.innerHTML=_V_.formatTime(time,this.player.duration())}});_V_.DurationDisplay=_V_.Component.extend({init(player, options) {this._super(player,options);player.on("timeupdate",_V_.proxy(this,this.updateContent))},createElement() {var el=this._super("div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-duration-display",innerHTML:"0:00"});el.appendChild(_V_.createElement("div").appendChild(this.content));return el},updateContent() {if(this.player.duration()){this.content.innerHTML=_V_.formatTime(this.player.duration())}}});_V_.TimeDivider=_V_.Component.extend({createElement() {return this._super("div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}});_V_.RemainingTimeDisplay=_V_.Component.extend({init(player, options) {this._super(player,options);player.on("timeupdate",_V_.proxy(this,this.updateContent))},createElement() {var el=this._super("div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-remaining-time-display",innerHTML:"-0:00"});el.appendChild(_V_.createElement("div").appendChild(this.content));return el},updateContent() {if(this.player.duration()){this.content.innerHTML="-"+_V_.formatTime(this.player.remainingTime())}}});_V_.Slider=_V_.Component.extend({init(player, options) {this._super(player,options);player.on(this.playerEvent,_V_.proxy(this,this.update));this.on("mousedown",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.player.on("controlsvisible",this.proxy(this.update));this.update()},createElement(type, attrs) {attrs=_V_.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},attrs);return this._super(type,attrs)},onMouseDown(event) {event.preventDefault();_V_.blockTextSelection();_V_.on(document,"mousemove",_V_.proxy(this,this.onMouseMove));_V_.on(document,"mouseup",_V_.proxy(this,this.onMouseUp));this.onMouseMove(event)},onMouseUp(event) {_V_.unblockTextSelection();_V_.off(document,"mousemove",this.onMouseMove,false);_V_.off(document,"mouseup",this.onMouseUp,false);this.update()},update() {
    var barProgress;
    var progress=this.getPercent();
    handle=this.handle,bar=this.bar;if(isNaN(progress)){progress=0}barProgress=progress;if(handle){
      var box=this.el;
      var boxWidth=box.offsetWidth;
      var handleWidth=handle.el.offsetWidth;
      var handlePercent=(handleWidth)?handleWidth/boxWidth:0;
      var boxAdjustedPercent=1-handlePercent;
      adjustedProgress=progress*boxAdjustedPercent,barProgress=adjustedProgress+(handlePercent/2);handle.el.style.left=_V_.round(adjustedProgress*100,2)+"%"
    }bar.el.style.width=_V_.round(barProgress*100,2)+"%"
  },calculateDistance(event) {
    var box=this.el;
    var boxX=_V_.findPosX(box);
    var boxW=box.offsetWidth;
    var handle=this.handle;
    if(handle){var handleW=handle.el.offsetWidth;boxX=boxX+(handleW/2);boxW=boxW-handleW}return Math.max(0,Math.min(1,(event.pageX-boxX)/boxW))
  },onFocus(event) {_V_.on(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress(event) {if(event.which==37){event.preventDefault();this.stepBack()}else{if(event.which==39){event.preventDefault();this.stepForward()}}},onBlur(event) {_V_.off(document,"keyup",_V_.proxy(this,this.onKeyPress))}});_V_.ProgressControl=_V_.Component.extend({options:{components:{seekBar:{}}},createElement() {return this._super("div",{className:"vjs-progress-control vjs-control"})}});_V_.SeekBar=_V_.Slider.extend({options:{components:{loadProgressBar:{},bar:{componentClass:"PlayProgressBar"},handle:{componentClass:"SeekHandle"}}},playerEvent:"timeupdate",init(player, options) {this._super(player,options)},createElement() {return this._super("div",{className:"vjs-progress-holder"})},getPercent() {return this.player.currentTime()/this.player.duration()},onMouseDown(event) {this._super(event);this.player.scrubbing=true;this.videoWasPlaying=!this.player.paused();this.player.pause()},onMouseMove(event) {var newTime=this.calculateDistance(event)*this.player.duration();if(newTime==this.player.duration()){newTime=newTime-0.1}this.player.currentTime(newTime)},onMouseUp(event) {this._super(event);this.player.scrubbing=false;if(this.videoWasPlaying){this.player.play()}},stepForward() {this.player.currentTime(this.player.currentTime()+1)},stepBack() {this.player.currentTime(this.player.currentTime()-1)}});_V_.LoadProgressBar=_V_.Component.extend({init(player, options) {this._super(player,options);player.on("progress",_V_.proxy(this,this.update))},createElement() {return this._super("div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},update() {if(this.el.style){this.el.style.width=_V_.round(this.player.bufferedPercent()*100,2)+"%"}}});_V_.PlayProgressBar=_V_.Component.extend({createElement() {return this._super("div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})}});_V_.SeekHandle=_V_.Component.extend({createElement() {return this._super("div",{className:"vjs-seek-handle",innerHTML:'<span class="vjs-control-text">00:00</span>'})}});_V_.VolumeControl=_V_.Component.extend({options:{components:{volumeBar:{}}},createElement() {return this._super("div",{className:"vjs-volume-control vjs-control"})}});_V_.VolumeBar=_V_.Slider.extend({options:{components:{bar:{componentClass:"VolumeLevel"},handle:{componentClass:"VolumeHandle"}}},playerEvent:"volumechange",createElement() {return this._super("div",{className:"vjs-volume-bar"})},onMouseMove(event) {this.player.volume(this.calculateDistance(event))},getPercent() {return this.player.volume()},stepForward() {this.player.volume(this.player.volume()+0.1)},stepBack() {this.player.volume(this.player.volume()-0.1)}});_V_.VolumeLevel=_V_.Component.extend({createElement() {return this._super("div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}});_V_.VolumeHandle=_V_.Component.extend({createElement() {return this._super("div",{className:"vjs-volume-handle",innerHTML:'<span class="vjs-control-text"></span>'})}});_V_.MuteToggle=_V_.Button.extend({init(player, options) {this._super(player,options);player.on("volumechange",_V_.proxy(this,this.update))},createElement() {return this._super("div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},onClick(event) {this.player.muted(this.player.muted()?false:true)},update(event) {
    var vol=this.player.volume();
    var level=3;
    if(vol==0||this.player.muted()){level=0}else{if(vol<0.33){level=1}else{if(vol<0.67){level=2}}}_V_.each.call(this,[0,1,2,3],function(i){_V_.removeClass(this.el,"vjs-vol-"+i)});_V_.addClass(this.el,"vjs-vol-"+level)
  }});_V_.PosterImage=_V_.Button.extend({init(player, options) {this._super(player,options);if(!this.player.options.poster){this.hide()}player.on("play",_V_.proxy(this,this.hide))},createElement() {return _V_.createElement("img",{className:"vjs-poster",src:this.player.options.poster,tabIndex:-1})},onClick() {this.player.play()}});_V_.Menu=_V_.Component.extend({init(player, options) {this._super(player,options)},addItem(component) {this.addComponent(component);component.on("click",this.proxy(function(){this.unlockShowing()}))},createElement() {return this._super("ul",{className:"vjs-menu"})}});_V_.MenuItem=_V_.Button.extend({init(player, options) {this._super(player,options);if(options.selected){this.addClass("vjs-selected")}},createElement(type, attrs) {return this._super("li",_V_.merge({className:"vjs-menu-item",innerHTML:this.options.label},attrs))},onClick() {this.selected(true)},selected(selected) {if(selected){this.addClass("vjs-selected")}else{this.removeClass("vjs-selected")}}});_V_.merge(_V_.Player.prototype,{addTextTracks(trackObjects) {
    var tracks=this.textTracks=(this.textTracks)?this.textTracks:[];
    var i=0;
    var j=trackObjects.length;
    var track;
    var Kind;
    for(;i<j;i++){Kind=_V_.uc(trackObjects[i].kind||"subtitles");track=new _V_[Kind+"Track"](this,trackObjects[i]);tracks.push(track);if(track["default"]){this.ready(_V_.proxy(track,track.show))}}return this
  },showTextTrack(id, disableSameKind) {
    var tracks=this.textTracks;
    var i=0;
    var j=tracks.length;
    var track;
    var showTrack;
    var kind;
    for(;i<j;i++){track=tracks[i];if(track.id===id){track.show();showTrack=track}else{if(disableSameKind&&track.kind==disableSameKind&&track.mode>0){track.disable()}}}kind=(showTrack)?showTrack.kind:((disableSameKind)?disableSameKind:false);if(kind){this.trigger(kind+"trackchange")}return this
  }});_V_.Track=_V_.Component.extend({init(player, options) {this._super(player,options);_V_.merge(this,{id:options.id||("vjs_"+options.kind+"_"+options.language+"_"+_V_.guid++),src:options.src,"default":options["default"],title:options.title,language:options.srclang,label:options.label,cues:[],activeCues:[],readyState:0,mode:0})},createElement() {return this._super("div",{className:"vjs-"+this.kind+" vjs-text-track"})},show() {this.activate();this.mode=2;this._super()},hide() {this.activate();this.mode=1;this._super()},disable() {if(this.mode==2){this.hide()}this.deactivate();this.mode=0},activate() {if(this.readyState==0){this.load()}if(this.mode==0){this.player.on("timeupdate",this.proxy(this.update,this.id));this.player.on("ended",this.proxy(this.reset,this.id));if(this.kind=="captions"||this.kind=="subtitles"){this.player.textTrackDisplay.addComponent(this)}}},deactivate() {this.player.off("timeupdate",this.proxy(this.update,this.id));this.player.off("ended",this.proxy(this.reset,this.id));this.reset();this.player.textTrackDisplay.removeComponent(this)},load() {if(this.readyState==0){this.readyState=1;_V_.get(this.src,this.proxy(this.parseCues),this.proxy(this.onError))}},onError(err) {this.error=err;this.readyState=3;this.trigger("error")},parseCues(srcContent) {
    var cue;
    var time;
    var text;
    var lines=srcContent.split("\n");
    var line="";
    var id;
    for(var i=1,j=lines.length;i<j;i++){line=_V_.trim(lines[i]);if(line){if(line.indexOf("-->")==-1){id=line;line=_V_.trim(lines[++i])}else{id=this.cues.length}cue={id,index:this.cues.length};time=line.split(" --> ");cue.startTime=this.parseCueTime(time[0]);cue.endTime=this.parseCueTime(time[1]);text=[];while(lines[++i]&&(line=_V_.trim(lines[i]))){text.push(line)}cue.text=text.join("<br/>");this.cues.push(cue)}}this.readyState=2;this.trigger("loaded")
  },parseCueTime(timeText) {
    var parts=timeText.split(":");
    var time=0;
    var hours;
    var minutes;
    var other;
    var seconds;
    var ms;
    var flags;
    if(parts.length==3){hours=parts[0];minutes=parts[1];other=parts[2]}else{hours=0;minutes=parts[0];other=parts[1]}other=other.split(/\s+/);seconds=other.splice(0,1)[0];seconds=seconds.split(/\.|,/);ms=parseFloat(seconds[1]);seconds=seconds[0];time+=parseFloat(hours)*3600;time+=parseFloat(minutes)*60;time+=parseFloat(seconds);if(ms){time+=ms/1000}return time
  },update() {if(this.cues.length>0){var time=this.player.currentTime();if(this.prevChange===undefined||time<this.prevChange||this.nextChange<=time){
    var cues=this.cues;
    var newNextChange=this.player.duration();
    var newPrevChange=0;
    var reverse=false;
    var newCues=[];
    var firstActiveIndex;
    var lastActiveIndex;
    var html="";
    var cue;
    var i;
    var j;
    if(time>=this.nextChange||this.nextChange===undefined){i=(this.firstActiveIndex!==undefined)?this.firstActiveIndex:0}else{reverse=true;i=(this.lastActiveIndex!==undefined)?this.lastActiveIndex:cues.length-1}while(true){cue=cues[i];if(cue.endTime<=time){newPrevChange=Math.max(newPrevChange,cue.endTime);if(cue.active){cue.active=false}}else{if(time<cue.startTime){newNextChange=Math.min(newNextChange,cue.startTime);if(cue.active){cue.active=false}if(!reverse){break}}else{if(reverse){newCues.splice(0,0,cue);if(lastActiveIndex===undefined){lastActiveIndex=i}firstActiveIndex=i}else{newCues.push(cue);if(firstActiveIndex===undefined){firstActiveIndex=i}lastActiveIndex=i}newNextChange=Math.min(newNextChange,cue.endTime);newPrevChange=Math.max(newPrevChange,cue.startTime);cue.active=true}}if(reverse){if(i===0){break}else{i--}}else{if(i===cues.length-1){break}else{i++}}}this.activeCues=newCues;this.nextChange=newNextChange;this.prevChange=newPrevChange;this.firstActiveIndex=firstActiveIndex;this.lastActiveIndex=lastActiveIndex;this.updateDisplay();this.trigger("cuechange")
  }}},updateDisplay() {
    var cues=this.activeCues;
    var html="";
    var i=0;
    var j=cues.length;
    for(;i<j;i++){html+="<span class='vjs-tt-cue'>"+cues[i].text+"</span>"}this.el.innerHTML=html
  },reset() {this.nextChange=0;this.prevChange=this.player.duration();this.firstActiveIndex=0;this.lastActiveIndex=0}});_V_.CaptionsTrack=_V_.Track.extend({kind:"captions"});_V_.SubtitlesTrack=_V_.Track.extend({kind:"subtitles"});_V_.ChaptersTrack=_V_.Track.extend({kind:"chapters"});_V_.TextTrackDisplay=_V_.Component.extend({createElement() {return this._super("div",{className:"vjs-text-track-display"})}});_V_.TextTrackMenuItem=_V_.MenuItem.extend({init(player, options) {var track=this.track=options.track;options.label=track.label;options.selected=track["default"];this._super(player,options);this.player.on(track.kind+"trackchange",_V_.proxy(this,this.update))},onClick() {this._super();this.player.showTextTrack(this.track.id,this.track.kind)},update() {if(this.track.mode==2){this.selected(true)}else{this.selected(false)}}});_V_.OffTextTrackMenuItem=_V_.TextTrackMenuItem.extend({init(player, options) {options.track={kind:options.kind,player,label:"Off"};this._super(player,options)},onClick() {this._super();this.player.showTextTrack(this.track.id,this.track.kind)},update() {
    var tracks=this.player.textTracks;
    var i=0;
    var j=tracks.length;
    var track;
    var off=true;
    for(;i<j;i++){track=tracks[i];if(track.kind==this.track.kind&&track.mode==2){off=false}}if(off){this.selected(true)}else{this.selected(false)}
  }});_V_.TextTrackButton=_V_.Button.extend({init(player, options) {this._super(player,options);this.menu=this.createMenu();if(this.items.length===0){this.hide()}},createMenu() {var menu=new _V_.Menu(this.player);menu.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));menu.addItem(new _V_.OffTextTrackMenuItem(this.player,{kind:this.kind}));this.items=this.createItems();this.each(this.items,item => {menu.addItem(item)});this.addComponent(menu);return menu},createItems() {var items=[];this.each(this.player.textTracks,function(track){if(track.kind===this.kind){items.push(new _V_.TextTrackMenuItem(this.player,{track}))}});return items},buildCSSClass() {return this.className+" vjs-menu-button "+this._super()},onFocus() {this.menu.lockShowing();_V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length-1],"blur",this.proxy(function(){this.menu.unlockShowing()}))},onBlur() {},onClick() {this.one("mouseout",this.proxy(function(){this.menu.unlockShowing();this.el.blur()}))}});_V_.CaptionsButton=_V_.TextTrackButton.extend({kind:"captions",buttonText:"Captions",className:"vjs-captions-button"});_V_.SubtitlesButton=_V_.TextTrackButton.extend({kind:"subtitles",buttonText:"Subtitles",className:"vjs-subtitles-button"});_V_.ChaptersButton=_V_.TextTrackButton.extend({kind:"chapters",buttonText:"Chapters",className:"vjs-chapters-button",createItems(chaptersTrack) {var items=[];this.each(this.player.textTracks,function(track){if(track.kind===this.kind){items.push(new _V_.TextTrackMenuItem(this.player,{track}))}});return items},createMenu() {
    var tracks=this.player.textTracks;
    var i=0;
    var j=tracks.length;
    var track;
    var chaptersTrack;
    var items=this.items=[];
    for(;i<j;i++){track=tracks[i];if(track.kind==this.kind&&track["default"]){if(track.readyState<2){this.chaptersTrack=track;track.on("loaded",this.proxy(this.createMenu));return}else{chaptersTrack=track;break}}}var menu=this.menu=new _V_.Menu(this.player);menu.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));if(chaptersTrack){
      var cues=chaptersTrack.cues;
      var i=0;
      var j=cues.length;
      var cue;
      var mi;
      for(;i<j;i++){cue=cues[i];mi=new _V_.ChaptersTrackMenuItem(this.player,{track:chaptersTrack,cue});items.push(mi);menu.addComponent(mi)}
    }this.addComponent(menu);if(this.items.length>0){this.show()}return menu
  }});_V_.ChaptersTrackMenuItem=_V_.MenuItem.extend({init(player, options) {
    var track=this.track=options.track;
    var cue=this.cue=options.cue;
    var currentTime=player.currentTime();
    options.label=cue.text;options.selected=(cue.startTime<=currentTime&&currentTime<cue.endTime);this._super(player,options);track.on("cuechange",_V_.proxy(this,this.update))
  },onClick() {this._super();this.player.currentTime(this.cue.startTime);this.update(this.cue.startTime)},update(time) {
    var cue=this.cue;
    var currentTime=this.player.currentTime();
    if(cue.startTime<=currentTime&&currentTime<cue.endTime){this.selected(true)}else{this.selected(false)}
  }});_V_.merge(_V_.ControlBar.prototype.options.components,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});_V_.autoSetup=() => {
    var options;
    var vid;
    var player;
    var vids=document.getElementsByTagName("video");
    if(vids&&vids.length>0){for(var i=0,j=vids.length;i<j;i++){vid=vids[i];if(vid&&vid.getAttribute){if(vid.player===undefined){options=vid.getAttribute("data-setup");if(options!==null){options=JSON.parse(options||"{}");player=_V_(vid,options)}}}else{_V_.autoSetupTimeout(1);break}}}else{if(!_V_.windowLoaded){_V_.autoSetupTimeout(1)}}
  };_V_.autoSetupTimeout=wait => {setTimeout(_V_.autoSetup,wait)};_V_.addEvent(window,"load",() => {_V_.windowLoaded=true});_V_.autoSetup();window.VideoJS=window._V_=VideoJS
}))(window);